import{m as T,n as K,o as P,q,v as w,w as I,x as m,y as z,z as G,A as H,B as M,C as N,E as L,D as Z,H as J,F as Q,G as V,I as x,J as O,K as W,L as X,M as j,g as v,N as k,O as B,P as ee,Q as g,R as se,S as re,T as te,U,V as ne,W as ie,X as ae,f as fe,Y as D,Z as y,b as ue,_ as ce,$ as oe,a0 as le,a1 as de,a2 as _e,a3 as he,a4 as ve,a5 as pe}from"./BgYbjkz7.js";class Y{anchor;#s=new Map;#r=new Map;#e=new Map;#t=new Set;#n=!0;constructor(s,t=!0){this.anchor=s,this.#n=t}#i=()=>{var s=T;if(this.#s.has(s)){var t=this.#s.get(s),r=this.#r.get(t);if(r)K(r),this.#t.delete(t);else{var i=this.#e.get(t);i&&(this.#r.set(t,i.effect),this.#e.delete(t),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[n,f]of this.#s){if(this.#s.delete(n),n===s)break;const a=this.#e.get(f);a&&(P(a.effect),this.#e.delete(f))}for(const[n,f]of this.#r){if(n===t||this.#t.has(n))continue;const a=()=>{if(Array.from(this.#s.values()).includes(n)){var o=document.createDocumentFragment();G(f,o),o.append(w()),this.#e.set(n,{effect:f,fragment:o})}else P(f);this.#t.delete(n),this.#r.delete(n)};this.#n||!r?(this.#t.add(n),q(f,a,!1)):a()}}};#a=s=>{this.#s.delete(s);const t=Array.from(this.#s.values());for(const[r,i]of this.#e)t.includes(r)||(P(i.effect),this.#e.delete(r))};ensure(s,t){var r=T,i=H();if(t&&!this.#r.has(s)&&!this.#e.has(s))if(i){var n=document.createDocumentFragment(),f=w();n.append(f),this.#e.set(s,{effect:I(()=>t(f)),fragment:n})}else this.#r.set(s,I(()=>t(this.anchor)));if(this.#s.set(r,s),i){for(const[a,u]of this.#r)a===s?r.skipped_effects.delete(u):r.skipped_effects.add(u);for(const[a,u]of this.#e)a===s?r.skipped_effects.delete(u.effect):r.skipped_effects.add(u.effect);r.oncommit(this.#i),r.ondiscard(this.#a)}else m&&(this.anchor=z),this.#i()}}function Ee(e,s,t=!1){m&&N();var r=new Y(e),i=t?L:0;function n(f,a){if(m){const o=Z(e)===J;if(f===o){var u=Q();V(u),r.anchor=u,x(!1),r.ensure(f,a),x(!0);return}}r.ensure(f,a)}M(()=>{var f=!1;s((a,u=!0)=>{f=!0,n(u,a)}),f||n(!1,null)},i)}function ge(e,s,t){m&&N();var r=new Y(e);M(()=>{var i=s()??null;r.ensure(i,i&&(n=>t(n,i)))},L)}let b=!1,E=Symbol();function Ae(e,s,t){const r=t[s]??={store:null,source:W(void 0),unsubscribe:O};if(r.store!==e&&!(E in t))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=O;else{var i=!0;r.unsubscribe=X(e,n=>{i?r.source.v=n:B(r.source,n)}),i=!1}return e&&E in t?j(e):v(r.source)}function Re(){const e={};function s(){k(()=>{for(var t in e)e[t].unsubscribe();ee(e,E,{enumerable:!1,value:!0})})}return[e,s]}function be(e){var s=b;try{return b=!1,[e(),b]}finally{b=s}}const me={get(e,s){if(!e.exclude.includes(s))return v(e.version),s in e.special?e.special[s]():e.props[s]},set(e,s,t){if(!(s in e.special)){var r=g;try{y(e.parent_effect),e.special[s]=Se({get[s](){return e.props[s]}},s,U)}finally{y(r)}}return e.special[s](t),D(e.version),!0},getOwnPropertyDescriptor(e,s){if(!e.exclude.includes(s)&&s in e.props)return{enumerable:!0,configurable:!0,value:e.props[s]}},deleteProperty(e,s){return e.exclude.includes(s)||(e.exclude.push(s),D(e.version)),!0},has(e,s){return e.exclude.includes(s)?!1:s in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(s=>!e.exclude.includes(s))}};function Te(e,s){return new Proxy({props:e,exclude:s,special:{},version:se(0),parent_effect:g},me)}function Se(e,s,t,r){var i=!ce||(t&oe)!==0,n=(t&le)!==0,f=(t&_e)!==0,a=r,u=!0,o=()=>(u&&(u=!1,a=f?ue(r):r),a),d;if(n){var F=ve in e||pe in e;d=re(e,s)?.set??(F&&s in e?c=>e[s]=c:void 0)}var _,A=!1;n?[_,A]=be(()=>e[s]):_=e[s],_===void 0&&r!==void 0&&(_=o(),d&&(i&&te(),d(_)));var l;if(i?l=()=>{var c=e[s];return c===void 0?o():(u=!0,c)}:l=()=>{var c=e[s];return c!==void 0&&(a=void 0),c===void 0?a:c},i&&(t&U)===0)return l;if(d){var C=e.$$legacy;return(function(c,p){return arguments.length>0?((!i||!p||C||A)&&d(p?l():c),c):l()})}var S=!1,h=((t&de)!==0?fe:ae)(()=>(S=!1,l()));n&&v(h);var $=g;return(function(c,p){if(arguments.length>0){const R=p?v(h):i&&n?ne(c):c;return B(h,R),S=!0,a!==void 0&&(a=R),c}return he&&S||($.f&ie)!==0?h.v:v(h)})}export{Y as B,Re as a,ge as c,Ee as i,Te as l,Se as p,Ae as s};
